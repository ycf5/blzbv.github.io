<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Video: CASE Statements</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>SQL Aggregations</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Video Introduction to Aggregation.html">01. Video: Introduction to Aggregation</a>
    </li>
    <li class="">
      <a href="02. Video Introduction to NULLs.html">02. Video: Introduction to NULLs</a>
    </li>
    <li class="">
      <a href="03. Video NULLs and Aggregation.html">03. Video: NULLs and Aggregation</a>
    </li>
    <li class="">
      <a href="04. Video + Text First Aggregation - COUNT.html">04. Video + Text: First Aggregation - COUNT</a>
    </li>
    <li class="">
      <a href="05. Video COUNT &amp; NULLs.html">05. Video: COUNT &amp; NULLs</a>
    </li>
    <li class="">
      <a href="06. Video SUM.html">06. Video: SUM</a>
    </li>
    <li class="">
      <a href="07. Quiz SUM.html">07. Quiz: SUM</a>
    </li>
    <li class="">
      <a href="08. Solution SUM.html">08. Solution: SUM</a>
    </li>
    <li class="">
      <a href="09. Video MIN &amp; MAX.html">09. Video: MIN &amp; MAX</a>
    </li>
    <li class="">
      <a href="10. Video AVG.html">10. Video: AVG</a>
    </li>
    <li class="">
      <a href="11. Quiz MIN, MAX, &amp; AVG.html">11. Quiz: MIN, MAX, &amp; AVG</a>
    </li>
    <li class="">
      <a href="12. Solutions MIN, MAX, &amp; AVG.html">12. Solutions: MIN, MAX, &amp; AVG</a>
    </li>
    <li class="">
      <a href="13. Video GROUP BY.html">13. Video: GROUP BY</a>
    </li>
    <li class="">
      <a href="14. Quiz GROUP BY.html">14. Quiz: GROUP BY</a>
    </li>
    <li class="">
      <a href="15. Solutions GROUP BY.html">15. Solutions: GROUP BY</a>
    </li>
    <li class="">
      <a href="16. Video GROUP BY Part II.html">16. Video: GROUP BY Part II</a>
    </li>
    <li class="">
      <a href="17. Quiz GROUP BY Part II.html">17. Quiz: GROUP BY Part II</a>
    </li>
    <li class="">
      <a href="18. Solutions GROUP BY Part II.html">18. Solutions: GROUP BY Part II</a>
    </li>
    <li class="">
      <a href="19. Video DISTINCT.html">19. Video: DISTINCT</a>
    </li>
    <li class="">
      <a href="20. Quiz DISTINCT.html">20. Quiz: DISTINCT</a>
    </li>
    <li class="">
      <a href="21. Solutions DISTINCT.html">21. Solutions: DISTINCT</a>
    </li>
    <li class="">
      <a href="22. Video HAVING.html">22. Video: HAVING</a>
    </li>
    <li class="">
      <a href="23. HAVING.html">23. HAVING</a>
    </li>
    <li class="">
      <a href="24. Solutions HAVING.html">24. Solutions: HAVING</a>
    </li>
    <li class="">
      <a href="25. Video DATE Functions.html">25. Video: DATE Functions</a>
    </li>
    <li class="">
      <a href="26. Video DATE Functions II.html">26. Video: DATE Functions II</a>
    </li>
    <li class="">
      <a href="27. Quiz DATE Functions.html">27. Quiz: DATE Functions</a>
    </li>
    <li class="">
      <a href="28. Solutions DATE Functions.html">28. Solutions: DATE Functions</a>
    </li>
    <li class="">
      <a href="29. Video CASE Statements.html">29. Video: CASE Statements</a>
    </li>
    <li class="">
      <a href="30. Video CASE &amp; Aggregations.html">30. Video: CASE &amp; Aggregations</a>
    </li>
    <li class="">
      <a href="31. Quiz CASE.html">31. Quiz: CASE</a>
    </li>
    <li class="">
      <a href="32. Solutions CASE.html">32. Solutions: CASE</a>
    </li>
    <li class="">
      <a href="33. Text Recap.html">33. Text: Recap</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">29. Video: CASE Statements</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3><p>11 CASE V2</p></h3>
  <video controls>
  <source src="29. 11 CASE V2-BInXuTY_FzE.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="ar" src="29. 11 CASE V2-BInXuTY_FzE.ar.vtt" label="ar">
  <track default="true" kind="subtitles" srclang="en" src="29. 11 CASE V2-BInXuTY_FzE.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="29. 11 CASE V2-BInXuTY_FzE.pt-BR.vtt" label="BR">
  <track default="false" kind="subtitles" srclang="uz" src="29. 11 CASE V2-BInXuTY_FzE.uz.vtt" label="uz">
  <track default="false" kind="subtitles" srclang="CN" src="29. 11 CASE V2-BInXuTY_FzE.zh-CN.vtt" label="CN">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="case---expert-tip">CASE - Expert Tip</h3>
<ul>
<li>The CASE statement always goes in the SELECT clause.<br><br></li>
</ul>
<ol>
<li>CASE must include the following components: WHEN, THEN, and END. ELSE is an optional component to catch cases that didn’t meet any of the other previous CASE conditions.<br><br></li>
<li>You can make any conditional statement using any conditional operator (like <a href="https://mode.com/resources/sql-tutorial/sql-where" rel="noopener noreferrer" target="_blank">WHERE</a>) between WHEN and THEN. This includes stringing together multiple conditional statements using AND and OR.<br><br></li>
<li>You can include multiple WHEN statements, as well as an ELSE statement again, to deal with any unaddressed conditions.</li>
</ol>
<h3 id="example">Example</h3>
<p>In a quiz question in the previous Basic SQL lesson, you saw this question:</p>
<ol>
<li>Create a column that divides the <code>standard_amt_usd</code> by the <code>standard_qty</code> to find the unit price for standard paper for each order. Limit the results to the first 10 orders, and include the <code>id</code> and <code>account_id</code> fields.  <strong>NOTE - you will be thrown an error with the correct solution to this question.  This is for a division by zero.  You will learn how to get a solution without an error to this query when you learn about CASE statements in a later section.</strong><br><br>  </li>
</ol>
<p>Let's see how we can use the <strong>CASE</strong> statement to get around this error.</p>
<pre><code>SELECT id, account_id, standard_amt_usd/standard_qty AS unit_price
FROM orders
LIMIT 10;</code></pre>
<p>Now, let's use a <strong>CASE</strong> statement.  This way any time the <strong>standard_qty</strong> is zero, we will return 0, and otherwise we will return the <strong>unit_price</strong>.  </p>
<pre><code>SELECT account_id, CASE WHEN standard_qty = 0 OR standard_qty IS NULL THEN 0
                        ELSE standard_amt_usd/standard_qty END AS unit_price
FROM orders
LIMIT 10;</code></pre>
<p>Now the first part of the statement will catch any of those division by zero values that were causing the error, and the other components will compute the division as necessary.  You will notice, we essentially charge all of our accounts 4.99 for standard paper. It makes sense this doesn't fluctuate, and it is more accurate than adding 1 in the denominator like our quick fix might have been in the earlier lesson.</p>
<p>You can try it yourself using the environment below.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div class="jumbotron">
  <h3>Code</h3>

  <p class="lead">If you need a code on the <a href="https://github.com/udacity"
    target="_blank">https://github.com/udacity</a>. </p>

  </ul>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="30. Video CASE &amp; Aggregations.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('29. Video: CASE Statements')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
