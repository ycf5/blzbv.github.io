WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.430
子查询的一个问题

00:00:02.430 --> 00:00:05.429
是它们让你的查询冗长且难以阅读

00:00:05.429 --> 00:00:09.209
公用表表达式 (CTE)

00:00:09.210 --> 00:00:14.380
可以将查询分解成单独的各小部分 使查询逻辑更易于阅读

00:00:14.380 --> 00:00:16.260
你可以自己阅读子查询逻辑

00:00:16.260 --> 00:00:21.040
然后轻松理解最终的查询逻辑

00:00:21.039 --> 00:00:24.899
我们回顾一下前面的例子

00:00:24.899 --> 00:00:29.939
通过这个例子 我们了解了每个营销渠道每天的平均事件数量

00:00:29.940 --> 00:00:31.600
将子查询分解成它自己的 CTE

00:00:31.600 --> 00:00:37.760
CTE 的创建将使用 WITH 指令

00:01:03.759 --> 00:01:07.140
这里我们只是定义了这一个 CTE

00:01:07.140 --> 00:01:12.394
但理论上我们可以写尽可能多的 CTE

00:01:12.394 --> 00:01:15.629
我们需要在查询的开头定义所有

00:01:15.629 --> 00:01:20.060
底部的最终查询会使用的 CTE

00:01:20.060 --> 00:01:24.465
每个 CTE 都像一个子查询一样得到一个别名

00:01:24.465 --> 00:01:27.030
这里的别名是 events

