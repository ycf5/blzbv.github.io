WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.620
我们已经了解了日期函数 如 date_trunc 和 date_part

00:00:04.620 --> 00:00:06.345
在接下来的课程中

00:00:06.344 --> 00:00:10.294
我们将对更多的函数进行深入研究 以从日期中获取价值

00:00:10.294 --> 00:00:12.800
在绝大多数专业设置中执行的分析

00:00:12.800 --> 00:00:15.470
都附有日期

00:00:15.470 --> 00:00:18.255
如果日期格式不正确

00:00:18.254 --> 00:00:20.570
就很难从中获得价值

00:00:20.570 --> 00:00:23.629
假设在你特定记录中

00:00:23.629 --> 00:00:26.059
包含日、月和年三个单独的列

00:00:26.059 --> 00:00:29.974
这样的问题对于某些在 excel 中操作

00:00:29.975 --> 00:00:32.359
或从第三方系统导出的数据

00:00:32.359 --> 00:00:35.314
甚至是手动输入的数据都是常见的

00:00:35.314 --> 00:00:38.174
为了真正使价值达到最大化

00:00:38.174 --> 00:00:40.549
需要将月份名称转换为数字

00:00:40.549 --> 00:00:44.539
然后将所有这些字段用连字符连接起来

00:00:44.539 --> 00:00:48.439
并让数据库知道结果输出是一个日期

00:00:48.439 --> 00:00:50.620
这一点可以通过 cast 函数来实现

00:00:50.621 --> 00:00:53.975
我们首先来看看最初的几步

00:00:53.975 --> 00:00:58.450
第一步将月份名称转换成数字

00:00:58.450 --> 00:01:02.510
如你所见 一月份是被转换为 1

00:01:02.509 --> 00:01:06.069
现在将这个值和年份和日子连结起来

00:01:06.069 --> 00:01:12.039
使之看起来像真正的日期

00:01:14.659 --> 00:01:24.859
最后一步 将这个新的字段转换为日期格式

00:01:24.859 --> 00:01:29.545
从这里看到 数据库现在可以将其理解为日期

00:01:29.545 --> 00:01:34.995
并将适当的零附加到这些记录中以方便正确理解

00:01:34.995 --> 00:01:37.965
cast 函数可能有一定难度

00:01:37.965 --> 00:01:40.500
但幸运的是这里有一个简略的表达方式

00:01:40.500 --> 00:01:43.640
不是将其全部内容包含在一个 cast 函数中

00:01:43.640 --> 00:01:47.939
而是可以简单地添加两个冒号

00:01:47.939 --> 00:01:53.280
然后在本节结尾处添加要转换的数据类型

00:01:53.281 --> 00:01:59.760
cast 函数在将字符串转换为数字或日期时最有用

00:01:59.760 --> 00:02:03.109
通常情况下 要将数字转换为字符串

00:02:03.109 --> 00:02:06.679
执行任何类型的字符串操作（如左、右或子字符串）

00:02:06.680 --> 00:02:11.000
都将在执行操作进行时自动转换数据

